{
  "id": "tool-calling-example",
  "name": "Tool Calling Example",
  "created_at": "2025-09-16T15:49:19.200031",
  "updated_at": "2025-09-19T17:26:42.761206",
  "graph": {
    "nodes": [
      {
        "id": "chatinput_8fb59297",
        "type": "ChatInput",
        "editor_name": "ChatInput",
        "editor_position": [
          -168,
          384
        ],
        "editor_dimensions": [
          256,
          168
        ],
        "pads": [
          {
            "id": "output",
            "group": "text",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "value": null,
            "next_pads": [
              {
                "node": "createcontextmessage_2c8962b9",
                "pad": "content"
              }
            ],
            "previous_pad": null,
            "pad_links": []
          }
        ],
        "description": "A chat input node to send text into your Gabber flow",
        "metadata": {
          "primary": "core",
          "secondary": "debug",
          "tags": [
            "input",
            "text"
          ]
        }
      },
      {
        "id": "llmcontext_21a4a184",
        "type": "LLMContext",
        "editor_name": "LLMContext",
        "editor_position": [
          504,
          72
        ],
        "editor_dimensions": [
          371,
          412
        ],
        "pads": [
          {
            "id": "num_inserts",
            "group": "config",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": 1
              }
            ],
            "allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": 1
              }
            ],
            "value": 1,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "max_non_system_messages",
            "group": "max_non_system_messages",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": 0
              }
            ],
            "allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": 0
              }
            ],
            "value": 64,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "max_videos",
            "group": "max_videos",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": 0
              }
            ],
            "allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": 0
              }
            ],
            "value": 2,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "max_audios",
            "group": "max_audios",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": 0
              }
            ],
            "allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": 0
              }
            ],
            "value": 2,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "max_images",
            "group": "max_images",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": 0
              }
            ],
            "allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": 0
              }
            ],
            "value": 2,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "system_message",
            "group": "system_message",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "value": {
              "role": "system",
              "content": [
                {
                  "type": "text",
                  "content": "You are a helpful assistant."
                }
              ],
              "tool_calls": [],
              "tool_call_id": null
            },
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "insert_0",
            "group": "insert",
            "type": "StatelessSinkPad",
            "default_allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": {
              "node": "createcontextmessage_2c8962b9",
              "pad": "context_message"
            },
            "pad_links": []
          },
          {
            "id": "source",
            "group": "source",
            "type": "PropertySourcePad",
            "default_allowed_types": [
              {
                "type": "list",
                "max_length": null,
                "item_type_constraints": [
                  {}
                ]
              }
            ],
            "allowed_types": [
              {
                "type": "list",
                "max_length": null,
                "item_type_constraints": [
                  {}
                ]
              }
            ],
            "value": [
              {
                "role": "system",
                "content": [
                  {
                    "type": "text",
                    "content": "You are a helpful assistant."
                  }
                ],
                "tool_calls": [],
                "tool_call_id": null
              }
            ],
            "next_pads": [
              {
                "node": "openaicompatiblellm_f7044cd3",
                "pad": "context"
              }
            ],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "new_user_message",
            "group": "new_user_message",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "value": null,
            "next_pads": [
              {
                "node": "autoconvert_5c0cb676",
                "pad": "sink"
              }
            ],
            "previous_pad": null,
            "pad_links": []
          }
        ],
        "description": "Manages conversation context for language models",
        "metadata": {
          "primary": "ai",
          "secondary": "llm",
          "tags": [
            "context",
            "memory"
          ]
        }
      },
      {
        "id": "createcontextmessage_2c8962b9",
        "type": "CreateContextMessage",
        "editor_name": "CreateContextMessage",
        "editor_position": [
          132,
          360
        ],
        "editor_dimensions": [
          288,
          196
        ],
        "pads": [
          {
            "id": "role",
            "group": "role",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "context_message_role"
              }
            ],
            "allowed_types": [
              {
                "type": "context_message_role"
              }
            ],
            "value": "user",
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "content",
            "group": "content",
            "type": "StatelessSinkPad",
            "default_allowed_types": [
              {
                "type": "audio_clip"
              },
              {
                "type": "video_clip"
              },
              {
                "type": "av_clip"
              },
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              },
              {
                "type": "video"
              },
              {
                "type": "text_stream"
              }
            ],
            "allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": {
              "node": "chatinput_8fb59297",
              "pad": "output"
            },
            "pad_links": []
          },
          {
            "id": "context_message",
            "group": "context_message",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "value": null,
            "next_pads": [
              {
                "node": "llmcontext_21a4a184",
                "pad": "insert_0"
              }
            ],
            "previous_pad": null,
            "pad_links": []
          }
        ],
        "description": "Creates new context messages with specified role and content",
        "metadata": {
          "primary": "ai",
          "secondary": "llm",
          "tags": [
            "context",
            "message"
          ]
        }
      },
      {
        "id": "tool_f6301ef8",
        "type": "Tool",
        "editor_name": "Tool",
        "editor_position": [
          456,
          624
        ],
        "editor_dimensions": [
          268,
          256
        ],
        "pads": [
          {
            "id": "self",
            "group": "self",
            "type": "PropertySourcePad",
            "default_allowed_types": [
              {
                "type": "node_reference",
                "node_types": [
                  "Tool"
                ]
              }
            ],
            "allowed_types": [
              {
                "type": "node_reference",
                "node_types": [
                  "Tool"
                ]
              }
            ],
            "value": "tool_f6301ef8",
            "next_pads": [
              {
                "node": "toolgroup_9762995b",
                "pad": "tool_0"
              }
            ],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "name",
            "group": "name",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "string",
                "max_length": 100,
                "min_length": null
              }
            ],
            "allowed_types": [
              {
                "type": "string",
                "max_length": 100,
                "min_length": null
              }
            ],
            "value": "get_weather",
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "description",
            "group": "description",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "string",
                "max_length": 500,
                "min_length": null
              }
            ],
            "allowed_types": [
              {
                "type": "string",
                "max_length": 500,
                "min_length": null
              }
            ],
            "value": "Get the current weather for a specified location.",
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "schema",
            "group": "schema",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "schema"
              }
            ],
            "allowed_types": [
              {
                "type": "schema"
              }
            ],
            "value": {
              "properties": {
                "location": {
                  "type": "string",
                  "max_length": null,
                  "min_length": null
                }
              },
              "required": [
                "location"
              ],
              "defaults": null
            },
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "source",
            "group": "source",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "object",
                "object_schema": {
                  "type": "object",
                  "properties": {
                    "location": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "location"
                  ]
                }
              }
            ],
            "allowed_types": [
              {
                "type": "object",
                "object_schema": {
                  "type": "object",
                  "properties": {
                    "location": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "location"
                  ]
                }
              }
            ],
            "value": null,
            "next_pads": [
              {
                "node": "unpackobject_9cb55287",
                "pad": "sink"
              }
            ],
            "previous_pad": null,
            "pad_links": []
          }
        ],
        "description": "Defines a tool that can be triggered by user inputs",
        "metadata": {
          "primary": "core",
          "secondary": "tools",
          "tags": [
            "function",
            "definition"
          ]
        }
      },
      {
        "id": "toolgroup_9762995b",
        "type": "ToolGroup",
        "editor_name": "ToolGroup",
        "editor_position": [
          780,
          504
        ],
        "editor_dimensions": [
          256,
          168
        ],
        "pads": [
          {
            "id": "num_tools",
            "group": "num_tools",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": null
              }
            ],
            "allowed_types": [
              {
                "type": "integer",
                "maximum": null,
                "minimum": null
              }
            ],
            "value": 1,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "self",
            "group": "self",
            "type": "PropertySourcePad",
            "default_allowed_types": [
              {
                "type": "node_reference",
                "node_types": [
                  "ToolGroup"
                ]
              }
            ],
            "allowed_types": [
              {
                "type": "node_reference",
                "node_types": [
                  "ToolGroup"
                ]
              }
            ],
            "value": "toolgroup_9762995b",
            "next_pads": [
              {
                "node": "openaicompatiblellm_f7044cd3",
                "pad": "tool_group"
              }
            ],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "tool_0",
            "group": "tool",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "node_reference",
                "node_types": [
                  "Tool"
                ]
              }
            ],
            "allowed_types": [
              {
                "type": "node_reference",
                "node_types": [
                  "Tool"
                ]
              }
            ],
            "value": "tool_f6301ef8",
            "next_pads": [],
            "previous_pad": {
              "node": "tool_f6301ef8",
              "pad": "self"
            },
            "pad_links": []
          }
        ],
        "description": "Groups multiple tools together for use with LLMs",
        "metadata": {
          "primary": "core",
          "secondary": "tools",
          "tags": [
            "collection",
            "group"
          ]
        }
      },
      {
        "id": "string_1bcfd389",
        "type": "String",
        "editor_name": "String",
        "editor_position": [
          1116,
          636
        ],
        "editor_dimensions": [
          256,
          224
        ],
        "pads": [
          {
            "id": "set",
            "group": "set",
            "type": "StatelessSinkPad",
            "default_allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": {
              "node": "unpackobject_9cb55287",
              "pad": "location"
            },
            "pad_links": []
          },
          {
            "id": "emit",
            "group": "emit",
            "type": "StatelessSinkPad",
            "default_allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "value",
            "group": "value",
            "type": "PropertySourcePad",
            "default_allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "value": "",
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "changed",
            "group": "changed",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          }
        ],
        "description": "Stores and manages string values",
        "metadata": {
          "primary": "core",
          "secondary": "primitive",
          "tags": [
            "storage",
            "string"
          ]
        }
      },
      {
        "id": "openaicompatiblellm_f7044cd3",
        "type": "OpenAICompatibleLLM",
        "editor_name": "OpenAICompatibleLLM",
        "editor_position": [
          1104,
          -24
        ],
        "editor_dimensions": [
          280,
          584
        ],
        "pads": [
          {
            "id": "run_trigger",
            "group": "run_trigger",
            "type": "StatelessSinkPad",
            "default_allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": {
              "node": "autoconvert_5c0cb676",
              "pad": "source"
            },
            "pad_links": []
          },
          {
            "id": "cancel_trigger",
            "group": "cancel_trigger",
            "type": "StatelessSinkPad",
            "default_allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "context",
            "group": "context",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "list",
                "max_length": null,
                "item_type_constraints": [
                  {}
                ]
              }
            ],
            "allowed_types": [
              {
                "type": "list",
                "max_length": null,
                "item_type_constraints": [
                  {}
                ]
              }
            ],
            "value": [
              {
                "role": "system",
                "content": [
                  {
                    "type": "text",
                    "content": "You are a helpful assistant."
                  }
                ],
                "tool_calls": [],
                "tool_call_id": null
              }
            ],
            "next_pads": [],
            "previous_pad": {
              "node": "llmcontext_21a4a184",
              "pad": "source"
            },
            "pad_links": []
          },
          {
            "id": "tool_group",
            "group": "tool_group",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "node_reference",
                "node_types": [
                  "ToolGroup"
                ]
              }
            ],
            "allowed_types": [
              {
                "type": "node_reference",
                "node_types": [
                  "ToolGroup"
                ]
              }
            ],
            "value": "toolgroup_9762995b",
            "next_pads": [],
            "previous_pad": {
              "node": "toolgroup_9762995b",
              "pad": "self"
            },
            "pad_links": []
          },
          {
            "id": "mcp_server_0",
            "group": "mcp_server",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "node_reference",
                "node_types": [
                  "MCP"
                ]
              }
            ],
            "allowed_types": [
              {
                "type": "node_reference",
                "node_types": [
                  "MCP"
                ]
              }
            ],
            "value": "None",
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "base_url",
            "group": "base_url",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "value": "https://api.openai.com/v1",
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "api_key",
            "group": "api_key",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "secret",
                "options": []
              }
            ],
            "allowed_types": [
              {
                "type": "secret",
                "options": []
              }
            ],
            "value": "OPEN_AI_API_KEY",
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "model",
            "group": "model",
            "type": "PropertySinkPad",
            "default_allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "value": "gpt-4.1-mini",
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "started",
            "group": "started",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "first_token",
            "group": "first_token",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "text_stream",
            "group": "text_stream",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "text_stream"
              }
            ],
            "allowed_types": [
              {
                "type": "text_stream"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "thinking_stream",
            "group": "thinking_stream",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "text_stream"
              }
            ],
            "allowed_types": [
              {
                "type": "text_stream"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "context_message",
            "group": "context_message",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "finished",
            "group": "finished",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "tool_calls_started",
            "group": "tool_calls_started",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          },
          {
            "id": "tool_calls_finished",
            "group": "tool_calls_finished",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": null,
            "pad_links": []
          }
        ],
        "description": "Send and receive responses from any OpenAI-compatible language model",
        "metadata": {
          "primary": "ai",
          "secondary": "llm",
          "tags": [
            "completion",
            "text",
            "openai"
          ]
        }
      },
      {
        "id": "unpackobject_9cb55287",
        "type": "UnpackObject",
        "editor_name": "UnpackObject",
        "editor_position": [
          780,
          708
        ],
        "editor_dimensions": [
          256,
          156
        ],
        "pads": [
          {
            "id": "sink",
            "group": "sink",
            "type": "StatelessSinkPad",
            "default_allowed_types": [
              {
                "type": "object",
                "object_schema": null
              }
            ],
            "allowed_types": [
              {
                "type": "object",
                "object_schema": {
                  "type": "object",
                  "properties": {
                    "location": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "location"
                  ]
                }
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": {
              "node": "tool_f6301ef8",
              "pad": "source"
            },
            "pad_links": []
          },
          {
            "id": "location",
            "group": "output",
            "type": "StatelessSourcePad",
            "default_allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "allowed_types": [
              {
                "type": "string",
                "max_length": null,
                "min_length": null
              }
            ],
            "value": null,
            "next_pads": [
              {
                "node": "string_1bcfd389",
                "pad": "set"
              }
            ],
            "previous_pad": null,
            "pad_links": []
          }
        ],
        "description": "Node of type UnpackObject",
        "metadata": {
          "primary": "core",
          "secondary": "utility",
          "tags": [
            "trigger",
            "start"
          ]
        }
      },
      {
        "id": "autoconvert_5c0cb676",
        "type": "AutoConvert",
        "editor_name": "AutoConvert",
        "editor_position": [
          984,
          276
        ],
        "editor_dimensions": [
          80,
          48
        ],
        "pads": [
          {
            "id": "sink",
            "group": "sink",
            "type": "StatelessSinkPad",
            "default_allowed_types": null,
            "allowed_types": [
              {
                "type": "context_message"
              }
            ],
            "value": null,
            "next_pads": [],
            "previous_pad": {
              "node": "llmcontext_21a4a184",
              "pad": "new_user_message"
            },
            "pad_links": []
          },
          {
            "id": "source",
            "group": "source",
            "type": "StatelessSourcePad",
            "default_allowed_types": null,
            "allowed_types": [
              {
                "type": "trigger"
              }
            ],
            "value": null,
            "next_pads": [
              {
                "node": "openaicompatiblellm_f7044cd3",
                "pad": "run_trigger"
              }
            ],
            "previous_pad": null,
            "pad_links": []
          }
        ],
        "description": "Automatically converts data between compatible types",
        "metadata": {
          "primary": "core",
          "secondary": "utility",
          "tags": [
            "auto",
            "type"
          ]
        }
      }
    ],
    "portals": []
  }
}
