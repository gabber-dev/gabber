{"id":"26fa922a-b317-4319-ba62-37808ab5ead8","name":"5. Vision-based Tool Calls","created_at":"2025-10-15T11:33:21.587396","updated_at":"2025-10-15T12:06:37.176208","graph":{"nodes":[{"id":"llmcontext_25888ea0","type":"LLMContext","editor_name":"LLMContext","editor_position":[960.0,-48.0],"editor_dimensions":[320.0,478.0],"pads":[{"id":"num_inserts","group":"config","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":1}],"allowed_types":[{"type":"integer","maximum":null,"minimum":1}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_non_system_messages","group":"max_non_system_messages","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_videos","group":"max_videos","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_audios","group":"max_audios","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_images","group":"max_images","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"system_message","group":"system_message","type":"PropertySinkPad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":{"role":"system","content":[{"type":"text","content":"Given the images, determine whether or not you see a phone in the frame. You should be extra sure there's a phone present. We don't want false positives. If so, return 'true'. Otherwise, return 'false'. Do not return anything other than 'true' or 'false'."}],"tool_calls":[],"tool_call_id":null},"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"insert_0","group":"insert","type":"StatelessSinkPad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[],"previous_pad":{"node":"createcontextmessage_1af91aed","pad":"context_message"},"pad_links":[]},{"id":"insert_1","group":"insert","type":"StatelessSinkPad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[],"previous_pad":{"node":"openaicompatiblellm_6f0c65da","pad":"context_message"},"pad_links":[]},{"id":"source","group":"source","type":"PropertySourcePad","default_allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"value":[{"role":"system","content":[{"type":"text","content":"Given the images, determine whether or not you see a phone in the frame. You should be extra sure there's a phone present. We don't want false positives. If so, return 'true'. Otherwise, return 'false'. Do not return anything other than 'true' or 'false'."}],"tool_calls":[],"tool_call_id":null}],"next_pads":[{"node":"openaicompatiblellm_6f0c65da","pad":"context"}],"previous_pad":null,"pad_links":[]},{"id":"new_user_message","group":"new_user_message","type":"StatelessSourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[{"node":"autoconvert_d8508030","pad":"sink"}],"previous_pad":null,"pad_links":[]}],"description":"Manages conversation context for language models","metadata":{"primary":"ai","secondary":"llm","tags":["context","memory"]},"notes":[]},{"id":"createcontextmessage_1af91aed","type":"CreateContextMessage","editor_name":"CreateContextMessage","editor_position":[516.0,24.0],"editor_dimensions":[288.0,196.0],"pads":[{"id":"role","group":"role","type":"PropertySinkPad","default_allowed_types":[{"type":"context_message_role"}],"allowed_types":[{"type":"context_message_role"}],"value":"user","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"content","group":"content","type":"StatelessSinkPad","default_allowed_types":[{"type":"audio_clip"},{"type":"video_clip"},{"type":"av_clip"},{"type":"string","max_length":null,"min_length":null},{"type":"video"},{"type":"text_stream"}],"allowed_types":[{"type":"video_clip"}],"value":null,"next_pads":[],"previous_pad":{"node":"slidingwindow_f6a9da99","pad":"clip"},"pad_links":[]},{"id":"context_message","group":"context_message","type":"StatelessSourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[{"node":"llmcontext_25888ea0","pad":"insert_0"}],"previous_pad":null,"pad_links":[]}],"description":"Creates new context messages with specified role and content","metadata":{"primary":"ai","secondary":"llm","tags":["context","message"]},"notes":[]},{"id":"autoconvert_d8508030","type":"AutoConvert","editor_name":"AutoConvert","editor_position":[1572.0,108.0],"editor_dimensions":[80.0,48.0],"pads":[{"id":"sink","group":"sink","type":"StatelessSinkPad","default_allowed_types":null,"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[],"previous_pad":{"node":"llmcontext_25888ea0","pad":"new_user_message"},"pad_links":[]},{"id":"source","group":"source","type":"StatelessSourcePad","default_allowed_types":null,"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[{"node":"openaicompatiblellm_6f0c65da","pad":"run_trigger"}],"previous_pad":null,"pad_links":[]}],"description":"Automatically converts data between compatible types","metadata":{"primary":"core","secondary":"utility","tags":["auto","type"]},"notes":[]},{"id":"tool_a65a7d31","type":"Tool","editor_name":"Tool","editor_position":[1140.0,696.0],"editor_dimensions":[268.0,256.0],"pads":[{"id":"self","group":"self","type":"PropertySourcePad","default_allowed_types":[{"type":"node_reference","node_types":["Tool"]}],"allowed_types":[{"type":"node_reference","node_types":["Tool"]}],"value":"tool_a65a7d31","next_pads":[{"node":"toolgroup_7530ef4a","pad":"tool_0"}],"previous_pad":null,"pad_links":[]},{"id":"name","group":"name","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":100,"min_length":null}],"allowed_types":[{"type":"string","max_length":100,"min_length":null}],"value":"item_finder","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"description","group":"description","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":500,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"When a phone is detected","next_pads":[],"previous_pad":{"node":"jinja2_da3e5a51","pad":"rendered_output"},"pad_links":[]},{"id":"schema","group":"schema","type":"PropertySinkPad","default_allowed_types":[{"type":"schema"}],"allowed_types":[{"type":"schema"}],"value":{"properties":{"item_detected":{"type":"boolean"}},"required":[],"defaults":{"phone_detect":"false","phone_detected":"false"}},"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"source","group":"source","type":"StatelessSourcePad","default_allowed_types":[{"type":"object","object_schema":{"type":"object","properties":{"item_detected":{"type":"boolean"}},"required":[]}}],"allowed_types":[{"type":"object","object_schema":{"type":"object","properties":{"item_detected":{"type":"boolean"}},"required":[]}}],"value":null,"next_pads":[{"node":"unpackobject_2b164b6c","pad":"sink"}],"previous_pad":null,"pad_links":[]}],"description":"Defines a tool that can be triggered by user inputs","metadata":{"primary":"core","secondary":"tools","tags":["function","definition"]},"notes":[]},{"id":"toolgroup_7530ef4a","type":"ToolGroup","editor_name":"ToolGroup","editor_position":[1728.0,492.0],"editor_dimensions":[256.0,168.0],"pads":[{"id":"num_tools","group":"num_tools","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":null}],"allowed_types":[{"type":"integer","maximum":null,"minimum":null}],"value":1,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"self","group":"self","type":"PropertySourcePad","default_allowed_types":[{"type":"node_reference","node_types":["ToolGroup"]}],"allowed_types":[{"type":"node_reference","node_types":["ToolGroup"]}],"value":"toolgroup_7530ef4a","next_pads":[{"node":"openaicompatiblellm_6f0c65da","pad":"tool_group"}],"previous_pad":null,"pad_links":[]},{"id":"tool_0","group":"tool","type":"PropertySinkPad","default_allowed_types":[{"type":"node_reference","node_types":["Tool"]}],"allowed_types":[{"type":"node_reference","node_types":["Tool"]}],"value":"tool_a65a7d31","next_pads":[],"previous_pad":{"node":"tool_a65a7d31","pad":"self"},"pad_links":[]}],"description":"Groups multiple tools together for use with LLMs","metadata":{"primary":"core","secondary":"tools","tags":["collection","group"]},"notes":[]},{"id":"publish_538c3ee7","type":"Publish","editor_name":"Publish","editor_position":[-684.0,-84.0],"editor_dimensions":[256.0,424.0],"pads":[{"id":"audio","group":"audio","type":"StatelessSourcePad","default_allowed_types":[{"type":"audio"}],"allowed_types":[{"type":"audio"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"video","group":"video","type":"StatelessSourcePad","default_allowed_types":[{"type":"video"}],"allowed_types":[{"type":"video"}],"value":null,"next_pads":[{"node":"fps_51e1990e","pad":"video_in"}],"previous_pad":null,"pad_links":[]},{"id":"audio_enabled","group":"audio_enabled","type":"PropertySourcePad","default_allowed_types":[{"type":"boolean"}],"allowed_types":[{"type":"boolean"}],"value":false,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"video_enabled","group":"video_enabled","type":"PropertySourcePad","default_allowed_types":[{"type":"boolean"}],"allowed_types":[{"type":"boolean"}],"value":false,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Stream audio and video into your Gabber flow","metadata":{"primary":"core","secondary":"media","tags":["input","stream"]},"notes":[]},{"id":"jinja2_da3e5a51","type":"Jinja2","editor_name":"Jinja2","editor_position":[684.0,624.0],"editor_dimensions":[400.0,472.0],"pads":[{"id":"num_properties","group":"num_properties","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":null}],"allowed_types":[{"type":"integer","maximum":null,"minimum":null}],"value":1,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"jinja_template","group":"jinja_template","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"When a {{ item }} is detected","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"property_name_0","group":"property_name","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"item","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"property_value_0","group":"property_value","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null},{"type":"integer","maximum":null,"minimum":null},{"type":"float","maximum":null,"minimum":null},{"type":"boolean"},{"type":"enum","options":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"phone","next_pads":[],"previous_pad":{"node":"string_4a8768df","pad":"value"},"pad_links":[]},{"id":"rendered_output","group":"rendered_output","type":"PropertySourcePad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"When a phone is detected","next_pads":[{"node":"tool_a65a7d31","pad":"description"}],"previous_pad":null,"pad_links":[]}],"description":"Template strings using Jinja2","metadata":{"primary":"core","secondary":"utility","tags":[]},"notes":[]},{"id":"string_4a8768df","type":"String","editor_name":"String","editor_position":[288.0,828.0],"editor_dimensions":[256.0,224.0],"pads":[{"id":"set","group":"set","type":"StatelessSinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"emit","group":"emit","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"value","group":"value","type":"PropertySourcePad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"phone","next_pads":[{"node":"jinja2_da3e5a51","pad":"property_value_0"}],"previous_pad":null,"pad_links":[]},{"id":"changed","group":"changed","type":"StatelessSourcePad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Stores and manages string values","metadata":{"primary":"core","secondary":"primitive","tags":["storage","string"]},"notes":[]},{"id":"fps_51e1990e","type":"FPS","editor_name":"FPS","editor_position":[-312.0,-96.0],"editor_dimensions":[256.0,204.0],"pads":[{"id":"video_in","group":"video_in","type":"StatelessSinkPad","default_allowed_types":[{"type":"video"}],"allowed_types":[{"type":"video"}],"value":null,"next_pads":[],"previous_pad":{"node":"publish_538c3ee7","pad":"video"},"pad_links":[]},{"id":"video_out","group":"video_out","type":"StatelessSourcePad","default_allowed_types":[{"type":"video"}],"allowed_types":[{"type":"video"}],"value":null,"next_pads":[{"node":"slidingwindow_f6a9da99","pad":"video"}],"previous_pad":null,"pad_links":[]},{"id":"fps","group":"fps","type":"PropertySinkPad","default_allowed_types":[{"type":"float","maximum":30.0,"minimum":0.0}],"allowed_types":[{"type":"float","maximum":30.0,"minimum":0.0}],"value":1,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Controls the frame rate of the video being processed","metadata":{"primary":"core","secondary":"media","tags":["control","fps"]},"notes":[]},{"id":"slidingwindow_f6a9da99","type":"SlidingWindow","editor_name":"SlidingWindow","editor_position":[168.0,96.0],"editor_dimensions":[292.0,288.0],"pads":[{"id":"video","group":"video","type":"StatelessSinkPad","default_allowed_types":[{"type":"video"}],"allowed_types":[{"type":"video"}],"value":null,"next_pads":[],"previous_pad":{"node":"fps_51e1990e","pad":"video_out"},"pad_links":[]},{"id":"audio","group":"audio","type":"StatelessSinkPad","default_allowed_types":[{"type":"audio"}],"allowed_types":[{"type":"audio"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"flush","group":"flush","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":{"node":"autoconvert_83752847","pad":"source"},"pad_links":[]},{"id":"reset","group":"reset","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"clip","group":"clip","type":"StatelessSourcePad","default_allowed_types":[{"type":"video_clip"}],"allowed_types":[{"type":"video_clip"}],"value":null,"next_pads":[{"node":"createcontextmessage_1af91aed","pad":"content"}],"previous_pad":null,"pad_links":[]},{"id":"window_size_s","group":"window_size_s","type":"PropertySinkPad","default_allowed_types":[{"type":"float","maximum":null,"minimum":null}],"allowed_types":[{"type":"float","maximum":null,"minimum":null}],"value":3,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Slides a window of media and writes based on input trigger.","metadata":{"primary":"core","secondary":"media","tags":["control","sliding_window"]},"notes":[]},{"id":"comment_a3829cc2","type":"Comment","editor_name":"Comment","editor_position":[1116.0,456.0],"editor_dimensions":[480.0,208.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"### We've created a tool call to watch for when an item is presented to the AI model.\n\n### We can then edit the JSON Schema our tool call emits on activation.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"ticker_375ca7f5","type":"Ticker","editor_name":"Ticker","editor_position":[-312.0,156.0],"editor_dimensions":[257.0,246.0],"pads":[{"id":"tick","group":"tick","type":"PropertySourcePad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":0,"next_pads":[{"node":"autoconvert_83752847","pad":"sink"}],"previous_pad":null,"pad_links":[]},{"id":"interval_ms","group":"interval_ms","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":5000,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"active","group":"active","type":"PropertySinkPad","default_allowed_types":[{"type":"boolean"}],"allowed_types":[{"type":"boolean"}],"value":true,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"reset","group":"reset","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Increments a counter at a specified interval","metadata":{"primary":"core","secondary":"timing","tags":["ticker"]},"notes":[]},{"id":"autoconvert_83752847","type":"AutoConvert","editor_name":"AutoConvert","editor_position":[24.0,240.0],"editor_dimensions":[80.0,48.0],"pads":[{"id":"sink","group":"sink","type":"StatelessSinkPad","default_allowed_types":null,"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":null,"next_pads":[],"previous_pad":{"node":"ticker_375ca7f5","pad":"tick"},"pad_links":[]},{"id":"source","group":"source","type":"StatelessSourcePad","default_allowed_types":null,"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[{"node":"slidingwindow_f6a9da99","pad":"flush"}],"previous_pad":null,"pad_links":[]}],"description":"Automatically converts data between compatible types","metadata":{"primary":"core","secondary":"utility","tags":["auto","type"]},"notes":[]},{"id":"string_f8baef96","type":"String","editor_name":"String","editor_position":[1872.0,732.0],"editor_dimensions":[256.0,224.0],"pads":[{"id":"set","group":"set","type":"StatelessSinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":null,"next_pads":[],"previous_pad":{"node":"autoconvert_a276cd7a","pad":"source"},"pad_links":[]},{"id":"emit","group":"emit","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"value","group":"value","type":"PropertySourcePad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"changed","group":"changed","type":"StatelessSourcePad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Stores and manages string values","metadata":{"primary":"core","secondary":"primitive","tags":["storage","string"]},"notes":[]},{"id":"comment_695d8682","type":"Comment","editor_name":"Comment","editor_position":[-708.0,-372.0],"editor_dimensions":[480.0,243.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"# Tool Calling & Templating\n\n### Tool-calling is an important part of any realtime application. In this example, we'll be creating a configurable vision-based tool-calling system to make our video input feed programmable.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"comment_dcdbb44a","type":"Comment","editor_name":"Comment","editor_position":[168.0,612.0],"editor_dimensions":[480.0,208.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"### You can manually or programmatically update this string node to change what item our system prompt and tool-call are looking for.\n\n### *** You must Remix the app to make changes","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"autoconvert_a276cd7a","type":"AutoConvert","editor_name":"AutoConvert","editor_position":[1728.0,804.0],"editor_dimensions":[80.0,48.0],"pads":[{"id":"sink","group":"sink","type":"StatelessSinkPad","default_allowed_types":null,"allowed_types":[{"type":"boolean"}],"value":null,"next_pads":[],"previous_pad":{"node":"unpackobject_2b164b6c","pad":"item_detected"},"pad_links":[]},{"id":"source","group":"source","type":"StatelessSourcePad","default_allowed_types":null,"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":null,"next_pads":[{"node":"string_f8baef96","pad":"set"}],"previous_pad":null,"pad_links":[]}],"description":"Automatically converts data between compatible types","metadata":{"primary":"core","secondary":"utility","tags":["auto","type"]},"notes":[]},{"id":"unpackobject_2b164b6c","type":"UnpackObject","editor_name":"UnpackObject","editor_position":[1440.0,744.0],"editor_dimensions":[256.0,156.0],"pads":[{"id":"sink","group":"sink","type":"StatelessSinkPad","default_allowed_types":[{"type":"object","object_schema":null}],"allowed_types":[{"type":"object","object_schema":{"type":"object","properties":{"item_detected":{"type":"boolean"}},"required":[]}}],"value":null,"next_pads":[],"previous_pad":{"node":"tool_a65a7d31","pad":"source"},"pad_links":[]},{"id":"item_detected","group":"output","type":"StatelessSourcePad","default_allowed_types":[{"type":"boolean"}],"allowed_types":[{"type":"boolean"}],"value":null,"next_pads":[{"node":"autoconvert_a276cd7a","pad":"sink"}],"previous_pad":null,"pad_links":[]}],"description":"Node of type UnpackObject","metadata":{"primary":"core","secondary":"utility","tags":["trigger","start"]},"notes":[]},{"id":"comment_1a566e43","type":"Comment","editor_name":"Comment","editor_position":[-420.0,408.0],"editor_dimensions":[480.0,114.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"### We flush our video Sliding Window into our LLM context every 5000ms.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"comment_3d9230af","type":"Comment","editor_name":"Comment","editor_position":[1788.0,960.0],"editor_dimensions":[480.0,188.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"### In this case, we are emitting a simple boolean property called `item_detected` and rendering it as a string. We can send this in a web request, or use it in other parts of our workflow.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"openaicompatiblellm_6f0c65da","type":"OpenAICompatibleLLM","editor_name":"OpenAICompatibleLLM","editor_position":[1716.0,-180.0],"editor_dimensions":[294.0,624.0],"pads":[{"id":"run_trigger","group":"run_trigger","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":{"node":"autoconvert_d8508030","pad":"source"},"pad_links":[]},{"id":"cancel_trigger","group":"cancel_trigger","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"context","group":"context","type":"PropertySinkPad","default_allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"value":[{"role":"system","content":[{"type":"text","content":"Given the images, determine whether or not you see a phone in the frame. You should be extra sure there's a phone present. We don't want false positives. If so, return 'true'. Otherwise, return 'false'. Do not return anything other than 'true' or 'false'."}],"tool_calls":[],"tool_call_id":null}],"next_pads":[],"previous_pad":{"node":"llmcontext_25888ea0","pad":"source"},"pad_links":[]},{"id":"tool_group","group":"tool_group","type":"PropertySinkPad","default_allowed_types":[{"type":"node_reference","node_types":["ToolGroup"]}],"allowed_types":[{"type":"node_reference","node_types":["ToolGroup"]}],"value":"toolgroup_7530ef4a","next_pads":[],"previous_pad":{"node":"toolgroup_7530ef4a","pad":"self"},"pad_links":[]},{"id":"mcp_server_0","group":"mcp_server","type":"PropertySinkPad","default_allowed_types":[{"type":"node_reference","node_types":["MCP"]}],"allowed_types":[{"type":"node_reference","node_types":["MCP"]}],"value":"None","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"base_url","group":"base_url","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"https://api.openai.com/v1","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"api_key","group":"api_key","type":"PropertySinkPad","default_allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T12:04:00.304249","created_at":"2025-10-15T12:04:00.304272","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T12:04:00.304292","created_at":"2025-10-15T12:04:00.304292","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T12:04:00.304294","created_at":"2025-10-15T12:04:00.304294","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T12:04:00.304295","created_at":"2025-10-15T12:04:00.304295","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T12:04:00.304297","created_at":"2025-10-15T12:04:00.304297","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T12:04:00.304298","created_at":"2025-10-15T12:04:00.304298","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T12:04:00.304300","created_at":"2025-10-15T12:04:00.304300","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T12:04:00.304301","created_at":"2025-10-15T12:04:00.304302","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T12:04:00.304249","created_at":"2025-10-15T12:04:00.304272","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T12:04:00.304292","created_at":"2025-10-15T12:04:00.304292","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T12:04:00.304294","created_at":"2025-10-15T12:04:00.304294","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T12:04:00.304295","created_at":"2025-10-15T12:04:00.304295","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T12:04:00.304297","created_at":"2025-10-15T12:04:00.304297","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T12:04:00.304298","created_at":"2025-10-15T12:04:00.304298","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T12:04:00.304300","created_at":"2025-10-15T12:04:00.304300","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T12:04:00.304301","created_at":"2025-10-15T12:04:00.304302","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"value":"OPEN_AI_API_KEY","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"model","group":"model","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"gpt-4.1-mini","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_context_len","group":"max_context_len","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":4096}],"allowed_types":[{"type":"integer","maximum":null,"minimum":4096}],"value":32768,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"started","group":"started","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"first_token","group":"first_token","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"text_stream","group":"text_stream","type":"StatelessSourcePad","default_allowed_types":[{"type":"text_stream"}],"allowed_types":[{"type":"text_stream"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"thinking_stream","group":"thinking_stream","type":"StatelessSourcePad","default_allowed_types":[{"type":"text_stream"}],"allowed_types":[{"type":"text_stream"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"context_message","group":"context_message","type":"StatelessSourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[{"node":"llmcontext_25888ea0","pad":"insert_1"}],"previous_pad":null,"pad_links":[]},{"id":"finished","group":"finished","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"tool_calls_started","group":"tool_calls_started","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"tool_calls_finished","group":"tool_calls_finished","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Send and receive responses from any OpenAI-compatible language model","metadata":{"primary":"ai","secondary":"llm","tags":["completion","text","openai"]},"notes":[]}],"portals":[]}}