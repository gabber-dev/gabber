{"id":"88eecf3e-9658-447b-a3dc-3820f48c4190","name":"2. Simple Voice AI w/ Subgraph","created_at":"2025-10-15T11:33:05.951353","updated_at":"2025-10-15T11:44:29.562638","graph":{"nodes":[{"id":"publish_ba1ec40a","type":"Publish","editor_name":"Publish","editor_position":[-384.0,84.0],"editor_dimensions":[256.0,424.0],"pads":[{"id":"audio","group":"audio","type":"StatelessSourcePad","default_allowed_types":[{"type":"audio"}],"allowed_types":[{"type":"audio"}],"value":null,"next_pads":[{"node":"subgraph_aaf486c1","pad":"audio_in"}],"previous_pad":null,"pad_links":[]},{"id":"video","group":"video","type":"StatelessSourcePad","default_allowed_types":[{"type":"video"}],"allowed_types":[{"type":"video"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"audio_enabled","group":"audio_enabled","type":"PropertySourcePad","default_allowed_types":[{"type":"boolean"}],"allowed_types":[{"type":"boolean"}],"value":false,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"video_enabled","group":"video_enabled","type":"PropertySourcePad","default_allowed_types":[{"type":"boolean"}],"allowed_types":[{"type":"boolean"}],"value":false,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Stream audio and video into your Gabber flow","metadata":{"primary":"core","secondary":"media","tags":["input","stream"]},"notes":[]},{"id":"llmcontext_5214578e","type":"LLMContext","editor_name":"LLMContext","editor_position":[-24.0,468.0],"editor_dimensions":[320.0,478.0],"pads":[{"id":"num_inserts","group":"config","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":1}],"allowed_types":[{"type":"integer","maximum":null,"minimum":1}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_non_system_messages","group":"max_non_system_messages","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":64,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_videos","group":"max_videos","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_audios","group":"max_audios","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_images","group":"max_images","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"system_message","group":"system_message","type":"PropertySinkPad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":{"role":"system","content":[{"type":"text","content":"You are a virtual voice assistant with no gender or age.\\nYou are communicating with the user.\\nIn user messages, “I/me/my/we/our” refer to the user and “you/your” refer to the assistant. In your replies, address the user as “you/your” and yourself as “I/me/my”; never mirror the user’s pronouns—always shift perspective. Keep original pronouns only in direct quotes; if a reference is unclear, ask a brief clarifying question.\\nInteract with users using short(no more than 50 words), brief, straightforward language, maintaining a natural tone.\\nNever use formal phrasing, mechanical expressions, bullet points, overly structured language. \\nYour output must consist only of the spoken content you want the user to hear. \\nDo not include any descriptions of actions, emotions, sounds, or voice changes. \\nDo not use asterisks, brackets, parentheses, or any other symbols to indicate tone or actions. \\nYou must answer users' audio or text questions, do not directly describe the video content. \\nYou should communicate in the same language strictly as the user unless they request otherwise.\\nWhen you are uncertain (e.g., you can't see/hear clearly, don't understand, or the user makes a comment rather than asking a question), use appropriate questions to guide the user to continue the conversation.\\nKeep replies concise and conversational, as if talking face-to-face."}],"tool_calls":[],"tool_call_id":null},"next_pads":[],"previous_pad":{"node":"contextmessage_60c2cb73","pad":"context_message"},"pad_links":[]},{"id":"insert_0","group":"insert","type":"StatelessSinkPad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[],"previous_pad":{"node":"subgraph_aaf486c1","pad":"new_user_message"},"pad_links":[]},{"id":"insert_1","group":"insert","type":"StatelessSinkPad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[],"previous_pad":{"node":"subgraph_aaf486c1","pad":"new_assistant_message"},"pad_links":[]},{"id":"source","group":"source","type":"PropertySourcePad","default_allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"value":[{"role":"system","content":[{"type":"text","content":"You are a virtual voice assistant with no gender or age.\\nYou are communicating with the user.\\nIn user messages, “I/me/my/we/our” refer to the user and “you/your” refer to the assistant. In your replies, address the user as “you/your” and yourself as “I/me/my”; never mirror the user’s pronouns—always shift perspective. Keep original pronouns only in direct quotes; if a reference is unclear, ask a brief clarifying question.\\nInteract with users using short(no more than 50 words), brief, straightforward language, maintaining a natural tone.\\nNever use formal phrasing, mechanical expressions, bullet points, overly structured language. \\nYour output must consist only of the spoken content you want the user to hear. \\nDo not include any descriptions of actions, emotions, sounds, or voice changes. \\nDo not use asterisks, brackets, parentheses, or any other symbols to indicate tone or actions. \\nYou must answer users' audio or text questions, do not directly describe the video content. \\nYou should communicate in the same language strictly as the user unless they request otherwise.\\nWhen you are uncertain (e.g., you can't see/hear clearly, don't understand, or the user makes a comment rather than asking a question), use appropriate questions to guide the user to continue the conversation.\\nKeep replies concise and conversational, as if talking face-to-face."}],"tool_calls":[],"tool_call_id":null}],"next_pads":[{"node":"subgraph_aaf486c1","pad":"llm_context"}],"previous_pad":null,"pad_links":[]},{"id":"new_user_message","group":"new_user_message","type":"StatelessSourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[{"node":"autoconvert_457476a5","pad":"sink"}],"previous_pad":null,"pad_links":[]}],"description":"Manages conversation context for language models","metadata":{"primary":"ai","secondary":"llm","tags":["context","memory"]},"notes":[]},{"id":"contextmessage_60c2cb73","type":"ContextMessage","editor_name":"ContextMessage","editor_position":[-408.0,636.0],"editor_dimensions":[256.0,208.0],"pads":[{"id":"role","group":"role","type":"PropertySinkPad","default_allowed_types":[{"type":"context_message_role"}],"allowed_types":[{"type":"context_message_role"}],"value":"system","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"content","group":"content","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"You are a virtual voice assistant with no gender or age.\\nYou are communicating with the user.\\nIn user messages, “I/me/my/we/our” refer to the user and “you/your” refer to the assistant. In your replies, address the user as “you/your” and yourself as “I/me/my”; never mirror the user’s pronouns—always shift perspective. Keep original pronouns only in direct quotes; if a reference is unclear, ask a brief clarifying question.\\nInteract with users using short(no more than 50 words), brief, straightforward language, maintaining a natural tone.\\nNever use formal phrasing, mechanical expressions, bullet points, overly structured language. \\nYour output must consist only of the spoken content you want the user to hear. \\nDo not include any descriptions of actions, emotions, sounds, or voice changes. \\nDo not use asterisks, brackets, parentheses, or any other symbols to indicate tone or actions. \\nYou must answer users' audio or text questions, do not directly describe the video content. \\nYou should communicate in the same language strictly as the user unless they request otherwise.\\nWhen you are uncertain (e.g., you can't see/hear clearly, don't understand, or the user makes a comment rather than asking a question), use appropriate questions to guide the user to continue the conversation.\\nKeep replies concise and conversational, as if talking face-to-face.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"context_message","group":"context_message","type":"PropertySourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":{"role":"system","content":[{"type":"text","content":"You are a virtual voice assistant with no gender or age.\\nYou are communicating with the user.\\nIn user messages, “I/me/my/we/our” refer to the user and “you/your” refer to the assistant. In your replies, address the user as “you/your” and yourself as “I/me/my”; never mirror the user’s pronouns—always shift perspective. Keep original pronouns only in direct quotes; if a reference is unclear, ask a brief clarifying question.\\nInteract with users using short(no more than 50 words), brief, straightforward language, maintaining a natural tone.\\nNever use formal phrasing, mechanical expressions, bullet points, overly structured language. \\nYour output must consist only of the spoken content you want the user to hear. \\nDo not include any descriptions of actions, emotions, sounds, or voice changes. \\nDo not use asterisks, brackets, parentheses, or any other symbols to indicate tone or actions. \\nYou must answer users' audio or text questions, do not directly describe the video content. \\nYou should communicate in the same language strictly as the user unless they request otherwise.\\nWhen you are uncertain (e.g., you can't see/hear clearly, don't understand, or the user makes a comment rather than asking a question), use appropriate questions to guide the user to continue the conversation.\\nKeep replies concise and conversational, as if talking face-to-face."}],"tool_calls":[],"tool_call_id":null},"next_pads":[{"node":"llmcontext_5214578e","pad":"system_message"}],"previous_pad":null,"pad_links":[]}],"description":"Stores and manages conversation context messages","metadata":{"primary":"ai","secondary":"llm","tags":["context","message"]},"notes":[]},{"id":"comment_b4c603b2","type":"Comment","editor_name":"Comment","editor_position":[24.0,12.0],"editor_dimensions":[474.0,268.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"# Subgraphs\n### Subgraphs are single nodes that represent multiple nodes. You can use subgraphs to condense your complex graphs, or create reusable workflows you can use across your apps.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":474,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"comment_8f4e77fe","type":"Comment","editor_name":"Comment","editor_position":[468.0,756.0],"editor_dimensions":[405.0,162.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"### We are constructing our LLM context using a system message as well as the user_message and assistant_message created by our subgraph.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":405,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"comment_04fa470f","type":"Comment","editor_name":"Comment","editor_position":[492.0,-216.0],"editor_dimensions":[492.0,137.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"### In this case our subgraph ingests Audio + an LLM context, and outputs speech audio, as well as a user_message and assistant_message.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":492,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"output_e4c4c70a","type":"Output","editor_name":"Output","editor_position":[1020.0,-24.0],"editor_dimensions":[256.0,300.0],"pads":[{"id":"audio","group":"audio","type":"StatelessSinkPad","default_allowed_types":[{"type":"audio"}],"allowed_types":[{"type":"audio"}],"value":null,"next_pads":[],"previous_pad":{"node":"subgraph_aaf486c1","pad":"audio_out"},"pad_links":[]},{"id":"video","group":"video","type":"StatelessSinkPad","default_allowed_types":[{"type":"video"}],"allowed_types":[{"type":"video"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Outputs audio and video to the end user","metadata":{"primary":"core","secondary":"media","tags":["output","display"]},"notes":[]},{"id":"comment_748a912e","type":"Comment","editor_name":"Comment","editor_position":[-300.0,-180.0],"editor_dimensions":[480.0,114.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":" ","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"autoconvert_457476a5","type":"AutoConvert","editor_name":"AutoConvert","editor_position":[372.0,504.0],"editor_dimensions":[80.0,48.0],"pads":[{"id":"sink","group":"sink","type":"StatelessSinkPad","default_allowed_types":null,"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[],"previous_pad":{"node":"llmcontext_5214578e","pad":"new_user_message"},"pad_links":[]},{"id":"source","group":"source","type":"StatelessSourcePad","default_allowed_types":null,"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[{"node":"subgraph_aaf486c1","pad":"run_trigger"}],"previous_pad":null,"pad_links":[]}],"description":"Automatically converts data between compatible types","metadata":{"primary":"core","secondary":"utility","tags":["auto","type"]},"notes":[]},{"id":"subgraph_aaf486c1","type":"SubGraph","editor_name":"Conversational w/ Remote Services","editor_position":[540.0,-36.0],"editor_dimensions":[346.0,712.0],"pads":[{"id":"__subgraph_id__","group":"subgraph","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"f81caef4-4d35-4f49-8afe-ddc01eef0e44","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"llm_api_key","group":"api_key","type":"PropertySinkPad","default_allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T11:40:50.834126","created_at":"2025-10-15T11:40:50.834164","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T11:40:50.834178","created_at":"2025-10-15T11:40:50.834179","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834180","created_at":"2025-10-15T11:40:50.834181","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834182","created_at":"2025-10-15T11:40:50.834183","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834184","created_at":"2025-10-15T11:40:50.834185","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834186","created_at":"2025-10-15T11:40:50.834187","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T11:40:50.834188","created_at":"2025-10-15T11:40:50.834188","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834189","created_at":"2025-10-15T11:40:50.834190","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T11:40:50.834126","created_at":"2025-10-15T11:40:50.834164","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T11:40:50.834178","created_at":"2025-10-15T11:40:50.834179","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834180","created_at":"2025-10-15T11:40:50.834181","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834182","created_at":"2025-10-15T11:40:50.834183","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834184","created_at":"2025-10-15T11:40:50.834185","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834186","created_at":"2025-10-15T11:40:50.834187","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T11:40:50.834188","created_at":"2025-10-15T11:40:50.834188","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834189","created_at":"2025-10-15T11:40:50.834190","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"value":"OPEN_AI_API_KEY","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"stt_api_key","group":"api_key","type":"PropertySinkPad","default_allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T11:40:50.834126","created_at":"2025-10-15T11:40:50.834164","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T11:40:50.834178","created_at":"2025-10-15T11:40:50.834179","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834180","created_at":"2025-10-15T11:40:50.834181","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834182","created_at":"2025-10-15T11:40:50.834183","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834184","created_at":"2025-10-15T11:40:50.834185","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834186","created_at":"2025-10-15T11:40:50.834187","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T11:40:50.834188","created_at":"2025-10-15T11:40:50.834188","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834189","created_at":"2025-10-15T11:40:50.834190","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T11:40:50.834126","created_at":"2025-10-15T11:40:50.834164","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T11:40:50.834178","created_at":"2025-10-15T11:40:50.834179","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834180","created_at":"2025-10-15T11:40:50.834181","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834182","created_at":"2025-10-15T11:40:50.834183","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834184","created_at":"2025-10-15T11:40:50.834185","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834186","created_at":"2025-10-15T11:40:50.834187","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T11:40:50.834188","created_at":"2025-10-15T11:40:50.834188","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834189","created_at":"2025-10-15T11:40:50.834190","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"value":"ASSEMBLY_API_KEY","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"tts_api_key","group":"api_key","type":"PropertySinkPad","default_allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T11:40:50.834126","created_at":"2025-10-15T11:40:50.834164","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T11:40:50.834178","created_at":"2025-10-15T11:40:50.834179","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834180","created_at":"2025-10-15T11:40:50.834181","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834182","created_at":"2025-10-15T11:40:50.834183","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834184","created_at":"2025-10-15T11:40:50.834185","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834186","created_at":"2025-10-15T11:40:50.834187","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T11:40:50.834188","created_at":"2025-10-15T11:40:50.834188","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834189","created_at":"2025-10-15T11:40:50.834190","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T11:40:50.834126","created_at":"2025-10-15T11:40:50.834164","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T11:40:50.834178","created_at":"2025-10-15T11:40:50.834179","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834180","created_at":"2025-10-15T11:40:50.834181","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834182","created_at":"2025-10-15T11:40:50.834183","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834184","created_at":"2025-10-15T11:40:50.834185","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834186","created_at":"2025-10-15T11:40:50.834187","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T11:40:50.834188","created_at":"2025-10-15T11:40:50.834188","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T11:40:50.834189","created_at":"2025-10-15T11:40:50.834190","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"value":"GABBER_API_KEY","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"audio_in","group":"audio","type":"StatelessSinkPad","default_allowed_types":[{"type":"audio"}],"allowed_types":[{"type":"audio"}],"value":null,"next_pads":[],"previous_pad":{"node":"publish_ba1ec40a","pad":"audio"},"pad_links":[]},{"id":"audio_out","group":"audio","type":"StatelessSourcePad","default_allowed_types":[{"type":"audio"}],"allowed_types":[{"type":"audio"}],"value":null,"next_pads":[{"node":"output_e4c4c70a","pad":"audio"}],"previous_pad":null,"pad_links":[]},{"id":"llm_base_url","group":"base_url","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"https://api.openai.com/v1","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"llm_context","group":"context","type":"PropertySinkPad","default_allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"value":[{"role":"system","content":[{"type":"text","content":"You are a virtual voice assistant with no gender or age.\\nYou are communicating with the user.\\nIn user messages, “I/me/my/we/our” refer to the user and “you/your” refer to the assistant. In your replies, address the user as “you/your” and yourself as “I/me/my”; never mirror the user’s pronouns—always shift perspective. Keep original pronouns only in direct quotes; if a reference is unclear, ask a brief clarifying question.\\nInteract with users using short(no more than 50 words), brief, straightforward language, maintaining a natural tone.\\nNever use formal phrasing, mechanical expressions, bullet points, overly structured language. \\nYour output must consist only of the spoken content you want the user to hear. \\nDo not include any descriptions of actions, emotions, sounds, or voice changes. \\nDo not use asterisks, brackets, parentheses, or any other symbols to indicate tone or actions. \\nYou must answer users' audio or text questions, do not directly describe the video content. \\nYou should communicate in the same language strictly as the user unless they request otherwise.\\nWhen you are uncertain (e.g., you can't see/hear clearly, don't understand, or the user makes a comment rather than asking a question), use appropriate questions to guide the user to continue the conversation.\\nKeep replies concise and conversational, as if talking face-to-face."}],"tool_calls":[],"tool_call_id":null}],"next_pads":[],"previous_pad":{"node":"llmcontext_5214578e","pad":"source"},"pad_links":[]},{"id":"new_assistant_message","group":"context_message","type":"StatelessSourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[{"node":"llmcontext_5214578e","pad":"insert_1"}],"previous_pad":null,"pad_links":[]},{"id":"new_user_message","group":"context_message","type":"StatelessSourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[{"node":"llmcontext_5214578e","pad":"insert_0"}],"previous_pad":null,"pad_links":[]},{"id":"llm_model","group":"model","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"gpt-4.1-mini","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"run_trigger","group":"run_trigger","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":{"node":"autoconvert_457476a5","pad":"source"},"pad_links":[]},{"id":"stt_service","group":"service","type":"PropertySinkPad","default_allowed_types":[{"type":"enum","options":["assembly_ai","local_kyutai","deepgram"]}],"allowed_types":[{"type":"enum","options":["local_kyutai","assembly_ai","deepgram"]}],"value":"assembly_ai","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"tts_service","group":"service","type":"PropertySinkPad","default_allowed_types":[{"type":"enum","options":["gabber","cartesia","elevenlabs"]}],"allowed_types":[{"type":"enum","options":["elevenlabs","cartesia","gabber"]}],"value":"gabber","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"speech_ended","group":"speech_ended","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"tool_group","group":"tool_group","type":"PropertySinkPad","default_allowed_types":[{"type":"node_reference","node_types":["ToolGroup"]}],"allowed_types":[{"type":"node_reference","node_types":["ToolGroup"]}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"transcription","group":"value","type":"PropertySourcePad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"tts_voice_id","group":"voice_id","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"626c3b02-2d2a-4a93-b3e7-be35fd2b95cd","next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A reusable subgraph that can be used as a node in other graphs","metadata":{"primary":"subgraph","secondary":"composite","tags":["reusable","nested"]},"notes":[]}],"portals":[]}}