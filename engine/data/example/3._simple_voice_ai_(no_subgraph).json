{"id":"651dec32-1b8a-4f78-9e3e-30960d3009cc","name":"3. Simple Voice AI (No Subgraph)","created_at":"2025-10-15T11:33:11.793942","updated_at":"2025-10-15T12:41:59.800307","graph":{"nodes":[{"id":"publish_4b8cae53","type":"Publish","editor_name":"Publish","editor_position":[120.0,132.0],"editor_dimensions":[256.0,424.0],"pads":[{"id":"audio","group":"audio","type":"StatelessSourcePad","default_allowed_types":[{"type":"audio"}],"allowed_types":[{"type":"audio"}],"value":null,"next_pads":[{"node":"stt_366862a8","pad":"audio"}],"previous_pad":null,"pad_links":[]},{"id":"video","group":"video","type":"StatelessSourcePad","default_allowed_types":[{"type":"video"}],"allowed_types":[{"type":"video"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"audio_enabled","group":"audio_enabled","type":"PropertySourcePad","default_allowed_types":[{"type":"boolean"}],"allowed_types":[{"type":"boolean"}],"value":false,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"video_enabled","group":"video_enabled","type":"PropertySourcePad","default_allowed_types":[{"type":"boolean"}],"allowed_types":[{"type":"boolean"}],"value":false,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Stream audio and video into your Gabber flow","metadata":{"primary":"core","secondary":"media","tags":["input","stream"]},"notes":[]},{"id":"llmcontext_236754a7","type":"LLMContext","editor_name":"LLMContext","editor_position":[1344.0,192.0],"editor_dimensions":[320.0,478.0],"pads":[{"id":"num_inserts","group":"config","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":1}],"allowed_types":[{"type":"integer","maximum":null,"minimum":1}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_non_system_messages","group":"max_non_system_messages","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":64,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_videos","group":"max_videos","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_audios","group":"max_audios","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_images","group":"max_images","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"allowed_types":[{"type":"integer","maximum":null,"minimum":0}],"value":2,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"system_message","group":"system_message","type":"PropertySinkPad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":{"role":"system","content":[{"type":"text","content":"You are a virtual voice assistant with no gender or age.\\nYou are communicating with the user.\\nIn user messages, “I/me/my/we/our” refer to the user and “you/your” refer to the assistant. In your replies, address the user as “you/your” and yourself as “I/me/my”; never mirror the user’s pronouns—always shift perspective. Keep original pronouns only in direct quotes; if a reference is unclear, ask a brief clarifying question.\\nInteract with users using short(no more than 50 words), brief, straightforward language, maintaining a natural tone.\\nNever use formal phrasing, mechanical expressions, bullet points, overly structured language. \\nYour output must consist only of the spoken content you want the user to hear. \\nDo not include any descriptions of actions, emotions, sounds, or voice changes. \\nDo not use asterisks, brackets, parentheses, or any other symbols to indicate tone or actions. \\nYou must answer users' audio or text questions, do not directly describe the video content. \\nYou should communicate in the same language strictly as the user unless they request otherwise.\\nWhen you are uncertain (e.g., you can't see/hear clearly, don't understand, or the user makes a comment rather than asking a question), use appropriate questions to guide the user to continue the conversation.\\nKeep replies concise and conversational, as if talking face-to-face."}],"tool_calls":[],"tool_call_id":null},"next_pads":[],"previous_pad":{"node":"contextmessage_f1676377","pad":"context_message"},"pad_links":[]},{"id":"insert_0","group":"insert","type":"StatelessSinkPad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[],"previous_pad":{"node":"createcontextmessage_111756ea","pad":"context_message"},"pad_links":[]},{"id":"insert_1","group":"insert","type":"StatelessSinkPad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[],"previous_pad":{"node":"openaicompatiblellm_71433b6f","pad":"context_message"},"pad_links":[]},{"id":"source","group":"source","type":"PropertySourcePad","default_allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"value":[{"role":"system","content":[{"type":"text","content":"You are a virtual voice assistant with no gender or age.\\nYou are communicating with the user.\\nIn user messages, “I/me/my/we/our” refer to the user and “you/your” refer to the assistant. In your replies, address the user as “you/your” and yourself as “I/me/my”; never mirror the user’s pronouns—always shift perspective. Keep original pronouns only in direct quotes; if a reference is unclear, ask a brief clarifying question.\\nInteract with users using short(no more than 50 words), brief, straightforward language, maintaining a natural tone.\\nNever use formal phrasing, mechanical expressions, bullet points, overly structured language. \\nYour output must consist only of the spoken content you want the user to hear. \\nDo not include any descriptions of actions, emotions, sounds, or voice changes. \\nDo not use asterisks, brackets, parentheses, or any other symbols to indicate tone or actions. \\nYou must answer users' audio or text questions, do not directly describe the video content. \\nYou should communicate in the same language strictly as the user unless they request otherwise.\\nWhen you are uncertain (e.g., you can't see/hear clearly, don't understand, or the user makes a comment rather than asking a question), use appropriate questions to guide the user to continue the conversation.\\nKeep replies concise and conversational, as if talking face-to-face."}],"tool_calls":[],"tool_call_id":null}],"next_pads":[{"node":"openaicompatiblellm_71433b6f","pad":"context"}],"previous_pad":null,"pad_links":[]},{"id":"new_user_message","group":"new_user_message","type":"StatelessSourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[{"node":"autoconvert_285114a7","pad":"sink"}],"previous_pad":null,"pad_links":[]}],"description":"Manages conversation context for language models","metadata":{"primary":"ai","secondary":"llm","tags":["context","memory"]},"notes":[]},{"id":"contextmessage_f1676377","type":"ContextMessage","editor_name":"ContextMessage","editor_position":[984.0,156.0],"editor_dimensions":[256.0,208.0],"pads":[{"id":"role","group":"role","type":"PropertySinkPad","default_allowed_types":[{"type":"context_message_role"}],"allowed_types":[{"type":"context_message_role"}],"value":"system","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"content","group":"content","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"You are a virtual voice assistant with no gender or age.\\nYou are communicating with the user.\\nIn user messages, “I/me/my/we/our” refer to the user and “you/your” refer to the assistant. In your replies, address the user as “you/your” and yourself as “I/me/my”; never mirror the user’s pronouns—always shift perspective. Keep original pronouns only in direct quotes; if a reference is unclear, ask a brief clarifying question.\\nInteract with users using short(no more than 50 words), brief, straightforward language, maintaining a natural tone.\\nNever use formal phrasing, mechanical expressions, bullet points, overly structured language. \\nYour output must consist only of the spoken content you want the user to hear. \\nDo not include any descriptions of actions, emotions, sounds, or voice changes. \\nDo not use asterisks, brackets, parentheses, or any other symbols to indicate tone or actions. \\nYou must answer users' audio or text questions, do not directly describe the video content. \\nYou should communicate in the same language strictly as the user unless they request otherwise.\\nWhen you are uncertain (e.g., you can't see/hear clearly, don't understand, or the user makes a comment rather than asking a question), use appropriate questions to guide the user to continue the conversation.\\nKeep replies concise and conversational, as if talking face-to-face.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"context_message","group":"context_message","type":"PropertySourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":{"role":"system","content":[{"type":"text","content":"You are a virtual voice assistant with no gender or age.\\nYou are communicating with the user.\\nIn user messages, “I/me/my/we/our” refer to the user and “you/your” refer to the assistant. In your replies, address the user as “you/your” and yourself as “I/me/my”; never mirror the user’s pronouns—always shift perspective. Keep original pronouns only in direct quotes; if a reference is unclear, ask a brief clarifying question.\\nInteract with users using short(no more than 50 words), brief, straightforward language, maintaining a natural tone.\\nNever use formal phrasing, mechanical expressions, bullet points, overly structured language. \\nYour output must consist only of the spoken content you want the user to hear. \\nDo not include any descriptions of actions, emotions, sounds, or voice changes. \\nDo not use asterisks, brackets, parentheses, or any other symbols to indicate tone or actions. \\nYou must answer users' audio or text questions, do not directly describe the video content. \\nYou should communicate in the same language strictly as the user unless they request otherwise.\\nWhen you are uncertain (e.g., you can't see/hear clearly, don't understand, or the user makes a comment rather than asking a question), use appropriate questions to guide the user to continue the conversation.\\nKeep replies concise and conversational, as if talking face-to-face."}],"tool_calls":[],"tool_call_id":null},"next_pads":[{"node":"llmcontext_236754a7","pad":"system_message"}],"previous_pad":null,"pad_links":[]}],"description":"Stores and manages conversation context messages","metadata":{"primary":"ai","secondary":"llm","tags":["context","message"]},"notes":[]},{"id":"comment_b62c5ad6","type":"Comment","editor_name":"Comment","editor_position":[744.0,600.0],"editor_dimensions":[480.0,199.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"### Triggers\n#### Here we are using Trigger. Triggers are a foundational type in Gabber. They act as the impulses that power your application.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"comment_319f7d73","type":"Comment","editor_name":"Comment","editor_position":[1692.0,492.0],"editor_dimensions":[405.0,334.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"### Here we are using triggers to tell our inference nodes, `Qwen3VL` and `GabberTTSNode` when to start and stop inference.\n\n### We start our LLM when a new user message is submitted, and we cancel our LLM/TTS generation when our STT model detects the user has started talking again.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":405,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"output_ad3101c5","type":"Output","editor_name":"Output","editor_position":[2844.0,-24.0],"editor_dimensions":[256.0,300.0],"pads":[{"id":"audio","group":"audio","type":"StatelessSinkPad","default_allowed_types":[{"type":"audio"}],"allowed_types":[{"type":"audio"}],"value":null,"next_pads":[],"previous_pad":{"node":"tts_7eb622fe","pad":"audio"},"pad_links":[]},{"id":"video","group":"video","type":"StatelessSinkPad","default_allowed_types":[{"type":"video"}],"allowed_types":[{"type":"video"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Outputs audio and video to the end user","metadata":{"primary":"core","secondary":"media","tags":["output","display"]},"notes":[]},{"id":"autoconvert_285114a7","type":"AutoConvert","editor_name":"AutoConvert","editor_position":[1896.0,348.0],"editor_dimensions":[80.0,48.0],"pads":[{"id":"sink","group":"sink","type":"StatelessSinkPad","default_allowed_types":null,"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[],"previous_pad":{"node":"llmcontext_236754a7","pad":"new_user_message"},"pad_links":[]},{"id":"source","group":"source","type":"StatelessSourcePad","default_allowed_types":null,"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[{"node":"openaicompatiblellm_71433b6f","pad":"run_trigger"}],"previous_pad":null,"pad_links":[]}],"description":"Automatically converts data between compatible types","metadata":{"primary":"core","secondary":"utility","tags":["auto","type"]},"notes":[]},{"id":"comment_428e78be","type":"Comment","editor_name":"Comment","editor_position":[12.0,-132.0],"editor_dimensions":[480.0,258.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"## Here is the same workflow we just saw, but expanded outside of the subgraph.\n\n## We are using remote STT, TTS, and LLM, but you could optionally run local models.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"comment_263b0402","type":"Comment","editor_name":"Comment","editor_position":[1740.0,180.0],"editor_dimensions":[320.0,119.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"In some instances, you'll need to convert the type of your edge. You can accomplish this using an `AutoConvert` node.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":320,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"comment_abc67d4e","type":"Comment","editor_name":"Comment","editor_position":[756.0,0.0],"editor_dimensions":[480.0,137.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"### We manually construct our system message, and create a user message using the transcribed audio.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"stt_366862a8","type":"STT","editor_name":"STT","editor_position":[468.0,204.0],"editor_dimensions":[256.0,314.0],"pads":[{"id":"service","group":"service","type":"PropertySinkPad","default_allowed_types":[{"type":"enum","options":["assembly_ai","local_kyutai","deepgram","local_gabber"]}],"allowed_types":[{"type":"enum","options":["assembly_ai","local_kyutai","deepgram","local_gabber"]}],"value":"assembly_ai","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"audio","group":"audio","type":"StatelessSinkPad","default_allowed_types":[{"type":"audio"}],"allowed_types":[{"type":"audio"}],"value":null,"next_pads":[],"previous_pad":{"node":"publish_4b8cae53","pad":"audio"},"pad_links":[]},{"id":"speech_clip","group":"speech_clip","type":"StatelessSourcePad","default_allowed_types":[{"type":"audio_clip"}],"allowed_types":[{"type":"audio_clip"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"speech_started","group":"speech_started","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[{"node":"tts_7eb622fe","pad":"cancel_trigger"},{"node":"openaicompatiblellm_71433b6f","pad":"cancel_trigger"}],"previous_pad":null,"pad_links":[]},{"id":"speech_ended","group":"speech_ended","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"final_transcription","group":"final_transcription","type":"StatelessSourcePad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":null,"next_pads":[{"node":"createcontextmessage_111756ea","pad":"content"}],"previous_pad":null,"pad_links":[]},{"id":"api_key","group":"api_key","type":"PropertySinkPad","default_allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T12:40:13.529192","created_at":"2025-10-15T12:40:13.529195","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T12:40:13.529202","created_at":"2025-10-15T12:40:13.529202","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529204","created_at":"2025-10-15T12:40:13.529204","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529205","created_at":"2025-10-15T12:40:13.529206","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529207","created_at":"2025-10-15T12:40:13.529207","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529208","created_at":"2025-10-15T12:40:13.529209","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T12:40:13.529210","created_at":"2025-10-15T12:40:13.529210","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529211","created_at":"2025-10-15T12:40:13.529211","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T12:40:13.529192","created_at":"2025-10-15T12:40:13.529195","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T12:40:13.529202","created_at":"2025-10-15T12:40:13.529202","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529204","created_at":"2025-10-15T12:40:13.529204","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529205","created_at":"2025-10-15T12:40:13.529206","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529207","created_at":"2025-10-15T12:40:13.529207","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529208","created_at":"2025-10-15T12:40:13.529209","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T12:40:13.529210","created_at":"2025-10-15T12:40:13.529210","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529211","created_at":"2025-10-15T12:40:13.529211","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"value":"ASSEMBLY_API_KEY","next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Speech-to-Text","metadata":{"primary":"ai","secondary":"audio","tags":["stt","speech","kyutai","assembly","deepgram"]},"notes":[]},{"id":"tts_7eb622fe","type":"TTS","editor_name":"TTS","editor_position":[2520.0,36.0],"editor_dimensions":[256.0,326.0],"pads":[{"id":"service","group":"service","type":"PropertySinkPad","default_allowed_types":[{"type":"enum","options":["gabber","cartesia","elevenlabs","openai"]}],"allowed_types":[{"type":"enum","options":["gabber","cartesia","elevenlabs","openai"]}],"value":"gabber","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"api_key","group":"api_key","type":"PropertySinkPad","default_allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T12:40:13.529192","created_at":"2025-10-15T12:40:13.529195","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T12:40:13.529202","created_at":"2025-10-15T12:40:13.529202","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529204","created_at":"2025-10-15T12:40:13.529204","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529205","created_at":"2025-10-15T12:40:13.529206","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529207","created_at":"2025-10-15T12:40:13.529207","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529208","created_at":"2025-10-15T12:40:13.529209","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T12:40:13.529210","created_at":"2025-10-15T12:40:13.529210","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529211","created_at":"2025-10-15T12:40:13.529211","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T12:40:13.529192","created_at":"2025-10-15T12:40:13.529195","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T12:40:13.529202","created_at":"2025-10-15T12:40:13.529202","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529204","created_at":"2025-10-15T12:40:13.529204","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529205","created_at":"2025-10-15T12:40:13.529206","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529207","created_at":"2025-10-15T12:40:13.529207","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529208","created_at":"2025-10-15T12:40:13.529209","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T12:40:13.529210","created_at":"2025-10-15T12:40:13.529210","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529211","created_at":"2025-10-15T12:40:13.529211","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"value":"GABBER_API_KEY","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"voice_id","group":"voice_id","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"626c3b02-2d2a-4a93-b3e7-be35fd2b95cd","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"text","group":"text","type":"StatelessSinkPad","default_allowed_types":[{"type":"text_stream"}],"allowed_types":[{"type":"text_stream"}],"value":null,"next_pads":[],"previous_pad":{"node":"openaicompatiblellm_71433b6f","pad":"text_stream"},"pad_links":[]},{"id":"audio","group":"audio","type":"StatelessSourcePad","default_allowed_types":[{"type":"audio"}],"allowed_types":[{"type":"audio"}],"value":null,"next_pads":[{"node":"output_ad3101c5","pad":"audio"}],"previous_pad":null,"pad_links":[]},{"id":"cancel_trigger","group":"cancel_trigger","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":{"node":"stt_366862a8","pad":"speech_started"},"pad_links":[]},{"id":"complete_transcription","group":"complete_transcription","type":"StatelessSourcePad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Converts text to speech using Gabber's native TTS model","metadata":{"primary":"ai","secondary":"audio","tags":["tts","speech","gabber"]},"notes":[]},{"id":"openaicompatiblellm_71433b6f","type":"OpenAICompatibleLLM","editor_name":"OpenAICompatibleLLM","editor_position":[2124.0,84.0],"editor_dimensions":[294.0,624.0],"pads":[{"id":"run_trigger","group":"run_trigger","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":{"node":"autoconvert_285114a7","pad":"source"},"pad_links":[]},{"id":"cancel_trigger","group":"cancel_trigger","type":"StatelessSinkPad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":{"node":"stt_366862a8","pad":"speech_started"},"pad_links":[]},{"id":"context","group":"context","type":"PropertySinkPad","default_allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"allowed_types":[{"type":"list","max_length":null,"item_type_constraints":[{}]}],"value":[{"role":"system","content":[{"type":"text","content":"You are a virtual voice assistant with no gender or age.\\nYou are communicating with the user.\\nIn user messages, “I/me/my/we/our” refer to the user and “you/your” refer to the assistant. In your replies, address the user as “you/your” and yourself as “I/me/my”; never mirror the user’s pronouns—always shift perspective. Keep original pronouns only in direct quotes; if a reference is unclear, ask a brief clarifying question.\\nInteract with users using short(no more than 50 words), brief, straightforward language, maintaining a natural tone.\\nNever use formal phrasing, mechanical expressions, bullet points, overly structured language. \\nYour output must consist only of the spoken content you want the user to hear. \\nDo not include any descriptions of actions, emotions, sounds, or voice changes. \\nDo not use asterisks, brackets, parentheses, or any other symbols to indicate tone or actions. \\nYou must answer users' audio or text questions, do not directly describe the video content. \\nYou should communicate in the same language strictly as the user unless they request otherwise.\\nWhen you are uncertain (e.g., you can't see/hear clearly, don't understand, or the user makes a comment rather than asking a question), use appropriate questions to guide the user to continue the conversation.\\nKeep replies concise and conversational, as if talking face-to-face."}],"tool_calls":[],"tool_call_id":null}],"next_pads":[],"previous_pad":{"node":"llmcontext_236754a7","pad":"source"},"pad_links":[]},{"id":"tool_group","group":"tool_group","type":"PropertySinkPad","default_allowed_types":[{"type":"node_reference","node_types":["ToolGroup"]}],"allowed_types":[{"type":"node_reference","node_types":["ToolGroup"]}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"mcp_server_0","group":"mcp_server","type":"PropertySinkPad","default_allowed_types":[{"type":"node_reference","node_types":["MCP"]}],"allowed_types":[{"type":"node_reference","node_types":["MCP"]}],"value":"None","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"base_url","group":"base_url","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"https://api.openai.com/v1","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"api_key","group":"api_key","type":"PropertySinkPad","default_allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T12:40:13.529192","created_at":"2025-10-15T12:40:13.529195","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T12:40:13.529202","created_at":"2025-10-15T12:40:13.529202","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529204","created_at":"2025-10-15T12:40:13.529204","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529205","created_at":"2025-10-15T12:40:13.529206","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529207","created_at":"2025-10-15T12:40:13.529207","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529208","created_at":"2025-10-15T12:40:13.529209","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T12:40:13.529210","created_at":"2025-10-15T12:40:13.529210","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T12:40:13.529211","created_at":"2025-10-15T12:40:13.529211","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"allowed_types":[{"type":"secret","options":[{"updated_at":"2025-10-15T12:40:13.420079","created_at":"2025-10-15T12:40:13.420097","id":"EXAMPLE_SECRET","name":"EXAMPLE_SECRET"},{"updated_at":"2025-10-15T12:40:13.420108","created_at":"2025-10-15T12:40:13.420108","id":"OPEN_AI_API_KEY","name":"OPEN_AI_API_KEY"},{"updated_at":"2025-10-15T12:40:13.420110","created_at":"2025-10-15T12:40:13.420110","id":"GABBER_API_KEY","name":"GABBER_API_KEY"},{"updated_at":"2025-10-15T12:40:13.420111","created_at":"2025-10-15T12:40:13.420112","id":"ASSEMBLY_API_KEY","name":"ASSEMBLY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.420113","created_at":"2025-10-15T12:40:13.420113","id":"SPOTIFY_API_KEY","name":"SPOTIFY_API_KEY"},{"updated_at":"2025-10-15T12:40:13.420114","created_at":"2025-10-15T12:40:13.420115","id":"GOOGLE_DOCS_KEY","name":"GOOGLE_DOCS_KEY"},{"updated_at":"2025-10-15T12:40:13.420116","created_at":"2025-10-15T12:40:13.420116","id":"ELEVEN_LABS_API_KEY","name":"ELEVEN_LABS_API_KEY"},{"updated_at":"2025-10-15T12:40:13.420118","created_at":"2025-10-15T12:40:13.420118","id":"CARTESIA_API_KEY","name":"CARTESIA_API_KEY"}]}],"value":"OPEN_AI_API_KEY","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"model","group":"model","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"gpt-4.1-mini","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"max_context_len","group":"max_context_len","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":null,"minimum":4096}],"allowed_types":[{"type":"integer","maximum":null,"minimum":4096}],"value":32768,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"started","group":"started","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"first_token","group":"first_token","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"text_stream","group":"text_stream","type":"StatelessSourcePad","default_allowed_types":[{"type":"text_stream"}],"allowed_types":[{"type":"text_stream"}],"value":null,"next_pads":[{"node":"tts_7eb622fe","pad":"text"}],"previous_pad":null,"pad_links":[]},{"id":"thinking_stream","group":"thinking_stream","type":"StatelessSourcePad","default_allowed_types":[{"type":"text_stream"}],"allowed_types":[{"type":"text_stream"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"context_message","group":"context_message","type":"StatelessSourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[{"node":"llmcontext_236754a7","pad":"insert_1"}],"previous_pad":null,"pad_links":[]},{"id":"finished","group":"finished","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"tool_calls_started","group":"tool_calls_started","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"tool_calls_finished","group":"tool_calls_finished","type":"StatelessSourcePad","default_allowed_types":[{"type":"trigger"}],"allowed_types":[{"type":"trigger"}],"value":null,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"Send and receive responses from any OpenAI-compatible language model","metadata":{"primary":"ai","secondary":"llm","tags":["completion","text","openai"]},"notes":[]},{"id":"createcontextmessage_111756ea","type":"CreateContextMessage","editor_name":"CreateContextMessage","editor_position":[984.0,384.0],"editor_dimensions":[288.0,196.0],"pads":[{"id":"role","group":"role","type":"PropertySinkPad","default_allowed_types":[{"type":"context_message_role"}],"allowed_types":[{"type":"context_message_role"}],"value":"user","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"content","group":"content","type":"StatelessSinkPad","default_allowed_types":[{"type":"audio_clip"},{"type":"video_clip"},{"type":"av_clip"},{"type":"string","max_length":null,"min_length":null},{"type":"video"},{"type":"text_stream"}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":null,"next_pads":[],"previous_pad":{"node":"stt_366862a8","pad":"final_transcription"},"pad_links":[]},{"id":"context_message","group":"context_message","type":"StatelessSourcePad","default_allowed_types":[{"type":"context_message"}],"allowed_types":[{"type":"context_message"}],"value":null,"next_pads":[{"node":"llmcontext_236754a7","pad":"insert_0"}],"previous_pad":null,"pad_links":[]}],"description":"Creates new context messages with specified role and content","metadata":{"primary":"ai","secondary":"llm","tags":["context","message"]},"notes":[]},{"id":"comment_05bdda6a","type":"Comment","editor_name":"Comment","editor_position":[2028.0,-72.0],"editor_dimensions":[480.0,123.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"## Swap this node out for a `LocalLLM` node if you want to run your own LLM.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]},{"id":"comment_12f7b694","type":"Comment","editor_name":"Comment","editor_position":[2460.0,372.0],"editor_dimensions":[480.0,123.0],"pads":[{"id":"text","group":"text","type":"PropertySinkPad","default_allowed_types":[{"type":"string","max_length":null,"min_length":null}],"allowed_types":[{"type":"string","max_length":null,"min_length":null}],"value":"## You could also use the locally running `KittenTTS` node.","next_pads":[],"previous_pad":null,"pad_links":[]},{"id":"width","group":"layout","type":"PropertySinkPad","default_allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"allowed_types":[{"type":"integer","maximum":1600,"minimum":160}],"value":480,"next_pads":[],"previous_pad":null,"pad_links":[]}],"description":"A comment node for adding notes and documentation to your graph","metadata":{"primary":"core","secondary":"utility","tags":["documentation","comment"]},"notes":[]}],"portals":[{"id":"portal_feb93a26","name":"stt_366862a8:speech_started","source_node":"stt_366862a8","source_pad":"speech_started","editor_position":[756.0,324.0],"ends":[{"id":"portal_end_78519226","editor_position":[2016.0,408.0],"next_pads":[{"node":"openaicompatiblellm_71433b6f","pad":"cancel_trigger"},{"node":"tts_7eb622fe","pad":"cancel_trigger"}]}]}]}}